!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=mobx},function(t,e,n){t.exports={albums:"tunes-playlist-albums",control:"tunes-playlist-control",play:"tunes-playlist-play",pause:"tunes-playlist-pause",prev:"tunes-playlist-prev",next:"tunes-playlist-next"}},function(t,e,n){t.exports={artist:"tunes-album-artist",tracks:"tunes-album-tracks",track:"tunes-album-track",queue:"tunes-album-queue"}},function(t,e){t.exports=classNames},function(t,e,n){t.exports={albums:"tunes-library-albums"}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);
/*! (c) Andrea Giammarchi (ISC) */var r=function(t){function e(){return this}function n(t){this.childNodes=t,this.length=t.length,this.first=t[0],this.last=t[this.length-1],this._=null}function r(){}function i(t){var e=Lt.get(this);return e&&e.template===et(t)?s.apply(e.updates,arguments):function(t){t=et(t);var e=Rt.get(t)||function(t){var e=[],n=t.join(m).replace(Vt,zt),r=J(this,n);It.find(r,e,t.slice());var i={fragment:r,paths:e};return Rt.set(t,i),i}.call(this,t),n=Y(this.ownerDocument,e.fragment),r=It.create(n,e.paths);Lt.set(this,{template:t,updates:r}),s.apply(r,arguments),this.textContent="",this.appendChild(n)}.apply(this,arguments),this}function s(){for(var t=arguments.length,e=1;e<t;e++)this[e-1](arguments[e])}function a(t){return arguments.length<2?null==t?Ft("html"):"string"==typeof t?a.wire(null,t):"raw"in t?Ft("html")(t):"nodeType"in t?a.bind(t):Bt(t,"html"):("raw"in t?Ft("html"):a.wire).apply(null,arguments)}var o=document.defaultView,u=1,l=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,c="http://www.w3.org/2000/svg",h="connected",d="dis"+h,f=/^(?:style|textarea)$/i,p="_hyper: "+(Math.random()*new Date|0)+";",m="\x3c!--"+p+"--\x3e",b=o.Event;try{new b("Event")}catch(t){b=function(t){var e=document.createEvent("Event");return e.initEvent(t,!1,!1),e}}var v=o.Map||function(){var t=[],e=[];return{get:function(n){return e[t.indexOf(n)]},set:function(n,r){e[t.push(n)-1]=r}}},g=0,y=o.WeakMap||function(){var t=p+g++;return{get:function(e){return e[t]},set:function(e,n){Object.defineProperty(e,t,{configurable:!0,value:n})}}},k=o.WeakSet||function(){var t=new y;return{add:function(e){t.set(e,!0)},has:function(e){return!0===t.get(e)}}},x=Array.isArray||function(t){return function(e){return"[object Array]"===t.call(e)}}({}.toString),w=p.trim||function(){return this.replace(/^\s+|\s+$/g,"")},_=function(t,e){var n="_"+t+"$";return{get:function(){return this[n]||A(this,n,e.call(this,t))},set:function(t){A(this,n,t)}}},A=function(t,e,n){return Object.defineProperty(t,e,{configurable:!0,value:"function"==typeof n?function(){return t._wire$=n.apply(this,arguments)}:n})[e]},$={},T={},N=[],E=T.hasOwnProperty,C=0,O={attributes:$,define:function(t,e){t.indexOf("-")<0?(t in T||(C=N.push(t)),T[t]=e):$[t]=e},invoke:function(t,e){for(var n=0;n<C;n++){var r=N[n];if(E.call(t,r))return T[r](t[r],e)}}},j=function(t,e){return P(t).createElement(e)},P=function(t){return t.ownerDocument||t},S=function(t){return P(t).createDocumentFragment()},I=function(t,e){return P(t).createTextNode(e)},M=" \\f\\n\\r\\t",L="[ "+M+"]+[^  \\f\\n\\r\\t\\/>\"'=]+",R="<([A-Za-z]+[A-Za-z0-9:_-]*)((?:",V="(?:=(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|[^  \\f\\n\\r\\t\\/>\"'=]+))?)",z=new RegExp(R+L+V+"+)([ "+M+"]*/?>)","g"),D=new RegExp(R+L+V+"*)([ "+M+"]*/>)","g"),F=S(document),B="append"in F,H="content"in j(document,"template");F.appendChild(I(F,"g")),F.appendChild(I(F,""));var W=1===F.cloneNode(!0).childNodes.length,U="importNode"in document,Z=B?function(t,e){t.append.apply(t,e)}:function(t,e){for(var n=e.length,r=0;r<n;r++)t.appendChild(e[r])},q=new RegExp("("+L+"=)(['\"]?)"+m+"\\2","gi"),G=function(t,e,n,r){return"<"+e+n.replace(q,K)+r},K=function(t,e,n){return e+(n||'"')+p+(n||'"')},J=function(t,e){return("ownerSVGElement"in t?it:rt)(t,e.replace(z,G))},Q=W?function(t){for(var e=t.cloneNode(),n=t.childNodes||[],r=n.length,i=0;i<r;i++)e.appendChild(Q(n[i]));return e}:function(t){return t.cloneNode(!0)},X=function(t){for(var e=[],n=t.childNodes,r=n.length,i=0;i<r;i++)n[i].nodeType===u&&e.push(n[i]);return e},Y=U?function(t,e){return t.importNode(e,!0)}:function(t,e){return Q(e)},tt=[].slice,et=function(t){return nt(t)},nt=function(t){if(t.propertyIsEnumerable("raw")||!Object.isFrozen(t.raw)||/Firefox\/(\d+)/.test((o.navigator||{}).userAgent)&&parseFloat(RegExp.$1)<55){var e={};nt=function(t){var n="^"+t.join("^");return e[n]||(e[n]=t)}}else nt=function(t){return t};return nt(t)},rt=H?function(t,e){var n=j(t,"template");return n.innerHTML=e,n.content}:function(t,e){var n=j(t,"template"),r=S(t);if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var i=RegExp.$1;n.innerHTML="<table>"+e+"</table>",Z(r,tt.call(n.querySelectorAll(i)))}else n.innerHTML=e,Z(r,tt.call(n.childNodes));return r},it=H?function(t,e){var n=S(t),r=P(t).createElementNS(c,"svg");return r.innerHTML=e,Z(n,tt.call(r.childNodes)),n}:function(t,e){var n=S(t),r=j(t,"div");return r.innerHTML='<svg xmlns="'+c+'">'+e+"</svg>",Z(n,tt.call(r.firstChild.childNodes)),n};n.prototype.valueOf=function(t){var e=null==this._;return e&&(this._=S(this.first)),(e||t)&&Z(this._,this.childNodes),this._},n.prototype.remove=function(){this._=null;var t=this.first,e=this.last;if(2===this.length)e.parentNode.removeChild(e);else{var n=P(t).createRange();n.setStartBefore(this.childNodes[1]),n.setEndAfter(e),n.deleteContents()}return t};var st=function(t,e,n){t.unshift(t.indexOf.call(e.childNodes,n))},at=function(t,e,n){return{type:t,name:n,node:e,path:function(t){var e=[],n=void 0;switch(t.nodeType){case u:case 11:n=t;break;case 8:n=t.parentNode,st(e,n,t);break;default:n=t.ownerElement}for(t=n;n=n.parentNode;t=n)st(e,n,t);return e}(e)}},ot=function(t,e){for(var n=e.length,r=0;r<n;r++)t=t.childNodes[e[r]];return t},ut=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,lt=function(t,e){var n=void 0,r=void 0;return function(i){switch(typeof i){case"object":if(i){if("object"===n){if(!e&&r!==i)for(var s in r)s in i||(t[s]="")}else e?t.value="":t.cssText="";var a=e?{}:t;for(var o in i){var u=i[o],l="number"!=typeof u||ut.test(o)?u:u+"px";/^--/.test(o)?a.setProperty(o,l):a[o]=l}n="object",e?t.value=dt(r=a):r=i;break}default:r!=i&&(n="string",r=i,e?t.value=i||"":t.cssText=i||"")}}},ct=/([^A-Z])([A-Z]+)/g,ht=function(t,e,n){return e+"-"+n.toLowerCase()},dt=function(t){var e=[];for(var n in t)e.push(n.replace(ct,ht),":",t[n],";");return e.join("")},ft=function(t,e,n,r,i,s){if(i-r<2)e.insertBefore(t(n[r],1),s);else{for(var a=e.ownerDocument.createDocumentFragment();r<i;)a.appendChild(t(n[r++],1));e.insertBefore(a,s)}},pt=function(t,e){return t==e},mt=function(t){return t},bt=function(t,e,n,r,i,s,a){var o=s-i;if(o<1)return-1;for(;n-e>=o;){for(var u=e,l=i;u<n&&l<s&&a(t[u],r[l]);)u++,l++;if(l===s)return e;e=u+1}return-1},vt=function(t,e,n,r,i){return n<r?t(e[n],0):0<n?t(e[n-1],-0).nextSibling:i},gt=function(t,e,n,r,i){if(i-r<2)e.removeChild(t(n[r],-1));else{var s=e.ownerDocument.createRange();s.setStartBefore(t(n[r],-1)),s.setEndAfter(t(n[i-1],-1)),s.deleteContents()}},yt="undefined"==typeof Map?function(){var t=[],e=[];return{has:function(e){return-1<t.indexOf(e)},get:function(n){return e[t.indexOf(n)]},set:function(n){var r=t.indexOf(n);e[r<0?t.push(n)-1:r]=n}}}:Map,kt=function(t,e,n){for(var r=1,i=e;r<i;){var s=(r+i)/2>>>0;n<t[s]?i=s:r=s+1}return r},xt=function(t,e,n,r,i,s,a,o,u,l,c,h,d){!function(t,e,n,r,i,s,a,o,u){for(var l=new yt,c=t.length,h=a,d=0;d<c;)switch(t[d++]){case 0:i++,h++;break;case 1:l.set(r[i],1),ft(e,n,r,i++,i,h<o?e(s[h],1):u);break;case-1:h++}for(d=0;d<c;)switch(t[d++]){case 0:a++;break;case-1:l.has(s[a])?a++:gt(e,n,s,a++,a)}}(function(t,e,n,r,i,s,a){var o=n+s,u=[],l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;t:for(l=0;l<=o;l++){if(l>50)return null;for(m=l-1,f=l?u[l-1]:[0,0],p=u[l]=[],c=-l;c<=l;c+=2){for(h=(d=c===-l||c!==l&&f[m+c-1]<f[m+c+1]?f[m+c+1]:f[m+c-1]+1)-c;d<s&&h<n&&a(r[i+d],t[e+h]);)d++,h++;if(d===s&&h===n)break t;p[l+c]=d}}var b=Array(l/2+o/2),v=b.length-1;for(l=u.length-1;l>=0;l--){for(;d>0&&h>0&&a(r[i+d-1],t[e+h-1]);)b[v--]=0,d--,h--;if(!l)break;m=l-1,f=l?u[l-1]:[0,0],(c=d-h)==-l||c!==l&&f[m+c-1]<f[m+c+1]?(h--,b[v--]=1):(d--,b[v--]=-1)}return b}(n,r,s,a,o,l,h)||function(t,e,n,r,i,s,a,o){var u=0,l=r<o?r:o,c=Array(l++),h=Array(l);h[0]=-1;for(var d=1;d<l;d++)h[d]=a;for(var f=new yt,p=s;p<a;p++)f.set(i[p],p);for(var m=e;m<n;m++){var b=f.get(t[m]);null!=b&&-1<(u=kt(h,l,b))&&(h[u]=b,c[u]={newi:m,oldi:b,prev:c[u-1]})}for(u=--l,--a;h[u]>a;)--u;l=o+r-u;var v=Array(l),g=c[u];for(--n;g;){for(var y=g,k=y.newi,x=y.oldi;n>k;)v[--l]=1,--n;for(;a>x;)v[--l]=-1,--a;v[--l]=0,--n,--a,g=g.prev}for(;n>=e;)v[--l]=1,--n;for(;a>=s;)v[--l]=-1,--a;return v}(n,r,i,s,a,o,u,l),t,e,n,r,a,o,c,d)},wt=function(t,e,n,r){r||(r={});for(var i=r.compare||pt,s=r.node||mt,a=null==r.before?null:s(r.before,0),o=e.length,u=o,l=0,c=n.length,h=0;l<u&&h<c&&i(e[l],n[h]);)l++,h++;for(;l<u&&h<c&&i(e[u-1],n[c-1]);)u--,c--;var d=l===u,f=h===c;if(d&&f)return n;if(d&&h<c)return ft(s,t,n,h,c,vt(s,e,l,o,a)),n;if(f&&l<u)return gt(s,t,e,l,u),n;var p=u-l,m=c-h,b=-1;if(p<m){if(-1<(b=bt(n,h,c,e,l,u,i)))return ft(s,t,n,h,b,s(e[l],0)),ft(s,t,n,b+p,c,vt(s,e,u,o,a)),n}else if(m<p&&-1<(b=bt(e,l,u,n,h,c,i)))return gt(s,t,e,l,b),gt(s,t,e,b+m,u),n;return p<2||m<2?(ft(s,t,n,h,c,s(e[l],0)),gt(s,t,e,l,u),n):p===m&&function(t,e,n,r,i,s){for(;r<i&&s(n[r],t[e-1]);)r++,e--;return 0===e}(n,c,e,l,u,i)?(ft(s,t,n,h,c,vt(s,e,u,o,a)),n):(xt(s,t,n,h,c,m,e,l,u,p,o,i,a),n)},_t=new k;r.prototype=Object.create(null);var At=function(t){return{html:t}},$t=function t(e,r){return"ELEMENT_NODE"in e?e:e.constructor===n?1/r<0?r?e.remove():e.last:r?e.valueOf(!0):e.first:t(e.render(),r)},Tt=function(t){return"ELEMENT_NODE"in t||t instanceof n||t instanceof e},Nt=function(t,e,n){for(var i=new r,s=t.attributes,a=tt.call(s),o=[],u=a.length,l=0;l<u;l++){var c=a[l];if(c.value===p){var h=c.name;if(!(h in i)){var d=n.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)=['"]?$/,"$1");i[h]=s[d]||s[d.toLowerCase()],e.push(at("attr",i[h],d))}o.push(c)}}for(var f=o.length,m=0;m<f;m++){var b=o[m];/^id$/i.test(b.name)?t.removeAttribute(b.name):t.removeAttributeNode(o[m])}var v=t.nodeName;if(/^script$/i.test(v)){for(var g=document.createElement(v),y=0;y<s.length;y++)g.setAttributeNode(s[y].cloneNode(!0));g.textContent=t.textContent,t.parentNode.replaceChild(g,t)}},Et=function(t,e){e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(At).then(e):Promise.resolve(O.invoke(t,e)).then(e)},Ct=function(t){return null!=t&&"then"in t},Ot=/^(?:form|list)$/i,jt=function(t,e){var n={node:$t,before:t},r=!1,i=void 0;return function s(a){switch(typeof a){case"string":case"number":case"boolean":r?i!==a&&(i=a,e[0].textContent=a):(r=!0,i=a,e=wt(t.parentNode,e,[I(t,a)],n));break;case"function":s(a(t));break;case"object":case"undefined":if(null==a){r=!1,e=wt(t.parentNode,e,[],n);break}default:if(r=!1,i=a,x(a))if(0===a.length)e.length&&(e=wt(t.parentNode,e,[],n));else switch(typeof a[0]){case"string":case"number":case"boolean":s({html:a});break;case"object":if(x(a[0])&&(a=a.concat.apply([],a)),Ct(a[0])){Promise.all(a).then(s);break}default:e=wt(t.parentNode,e,a,n)}else Tt(a)?e=wt(t.parentNode,e,11===a.nodeType?tt.call(a.childNodes):[a],n):Ct(a)?a.then(s):"placeholder"in a?Et(a,s):"text"in a?s(String(a.text)):"any"in a?s(a.any):"html"in a?e=wt(t.parentNode,e,tt.call(J(t,[].concat(a.html).join("")).childNodes),n):s("length"in a?tt.call(a):O.invoke(a,s))}}},Pt=function(t,e,n){var r="ownerSVGElement"in t,i=void 0;if("style"===e)return function(t,e,n){if(n){var r=e.cloneNode(!0);return r.value="",t.setAttributeNode(r),lt(r,n)}return lt(t.style,n)}(t,n,r);if(/^on/.test(e)){var s=e.slice(2);return s===h||s===d?(Mt&&(Mt=!1,function(){var t=function(t,n){for(var r=new b(n),i=t.length,s=0;s<i;s++){var a=t[s];a.nodeType===u&&e(a,r)}},e=function t(e,n){_t.has(e)&&e.dispatchEvent(n);for(var r=e.children||X(e),i=r.length,s=0;s<i;s++)t(r[s],n)};try{new MutationObserver(function(e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t(i.removedNodes,d),t(i.addedNodes,h)}}).observe(document,{subtree:!0,childList:!0})}catch(e){document.addEventListener("DOMNodeRemoved",function(e){t([e.target],d)},!1),document.addEventListener("DOMNodeInserted",function(e){t([e.target],h)},!1)}}()),_t.add(t)):e.toLowerCase()in t&&(s=s.toLowerCase()),function(e){i!==e&&(i&&t.removeEventListener(s,i,!1),i=e,e&&t.addEventListener(s,e,!1))}}if("data"===e||!r&&e in t&&!Ot.test(e))return function(n){i!==n&&(i=n,t[e]!==n&&(t[e]=n,null==n&&t.removeAttribute(e)))};if(e in O.attributes)return function(n){i=O.attributes[e](t,n),t.setAttribute(e,null==i?"":i)};var a=!1,o=n.cloneNode(!0);return function(e){i!==e&&(i=e,o.value!==e&&(null==e?(a&&(a=!1,t.removeAttributeNode(o)),o.value=e):(o.value=e,a||(a=!0,t.setAttributeNode(o)))))}},St=function(t){var e=void 0;return function n(r){if(e!==r){e=r;var i=typeof r;"object"===i&&r?Ct(r)?r.then(n):"placeholder"in r?Et(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?tt.call(r).join(""):O.invoke(r,n)):"function"===i?n(r(t)):t.textContent=null==r?"":r}}},It={create:function(t,e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e[i],a=ot(t,s.path);switch(s.type){case"any":n.push(jt(a,[]));break;case"attr":n.push(Pt(a,s.name,s.node));break;case"text":n.push(St(a)),a.textContent=""}}return n},find:function t(e,n,r){for(var i=e.childNodes,s=i.length,a=0;a<s;a++){var o=i[a];switch(o.nodeType){case u:Nt(o,n,r),t(o,n,r);break;case 8:o.textContent===p&&(r.shift(),n.push(f.test(e.nodeName)?at("text",e):at("any",o)));break;case 3:f.test(e.nodeName)&&w.call(o.textContent)===m&&(r.shift(),n.push(at("text",e)))}}}},Mt=!0,Lt=new y,Rt=function(){try{var t=new y,e=Object.freeze([]);if(t.set(e,!0),!t.get(e))throw e;return t}catch(e){return new v}}(),Vt=D,zt=function(t,e,n){return l.test(e)?t:"<"+e+n+"></"+e+">"},Dt=new y,Ft=function(t){var e=void 0,n=void 0,r=void 0,s=void 0,a=void 0;return function(o){o=et(o);var u=s!==o;return u&&(s=o,r=S(document),n="svg"===t?document.createElementNS(c,"svg"):r,a=i.bind(n)),a.apply(null,arguments),u&&("svg"===t&&Z(r,tt.call(n.childNodes)),e=Ht(r)),e}},Bt=function(t,e){var n=e.indexOf(":"),r=Dt.get(t),i=e;return-1<n&&(i=e.slice(n+1),e=e.slice(0,n)||"html"),r||Dt.set(t,r={}),r[i]||(r[i]=Ft(e))},Ht=function(t){for(var e=t.childNodes,r=e.length,i=[],s=0;s<r;s++){var a=e[s];a.nodeType!==u&&0===w.call(a.textContent).length||i.push(a)}return 1===i.length?i[0]:new n(i)},Wt=O.define;return a.Component=e,a.bind=function(t){return i.bind(t)},a.define=Wt,a.diff=wt,a.hyper=a,a.wire=function(t,e){return null==t?Ft(e||"html"):Bt(t,e||"html")},a._={WeakMap:y,WeakSet:k},function(t){var n=new y,r=Object.create,i=function(t,e){var n={w:null,p:null};return e.set(t,n),n};Object.defineProperties(e,{for:{configurable:!0,value:function(t,e){return function(t,e,n,s){var a=e.get(t)||i(t,e);switch(typeof s){case"object":case"function":var o=a.w||(a.w=new y);return o.get(s)||function(t,e,n){return t.set(e,n),n}(o,s,new t(n));default:var u=a.p||(a.p=r(null));return u[s]||(u[s]=new t(n))}}(this,n.get(t)||function(t){var e=new v;return n.set(t,e),e}(t),t,null==e?"default":e)}}}),Object.defineProperties(e.prototype,{handleEvent:{value:function(t){var e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:_("html",t),svg:_("svg",t),state:_("state",function(){return this.defaultState}),defaultState:{get:function(){return{}}},dispatch:{value:function(t,e){var n=this._wire$;if(n){var r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});return r.component=this,(n.dispatchEvent?n:n.childNodes[0]).dispatchEvent(r)}return!1}},setState:{value:function(t,e){var n=this.state,r="function"==typeof t?t.call(this,n):t;for(var i in r)n[i]=r[i];return!1!==e&&this.render(),this}}})}(Ft),a}(window);const{Component:i,bind:s,define:a,diff:o,hyper:u,wire:l}=r,c="attributeChangedCallback",h=Object,d=[],f=h.defineProperty,p=h.getOwnPropertyDescriptor,m=h.getOwnPropertyNames,b=h.getOwnPropertySymbols||(()=>[]),v=h.getPrototypeOf||(t=>t.__proto__),g="object"==typeof Reflect&&Reflect.ownKeys||(t=>m(t).concat(b(t))),y=h.setPrototypeOf||((t,e)=>(t.__proto__=e,t)),k=t=>t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase());
/*! (C) 2017-2018 Andrea Giammarchi - ISC Style License */class x extends HTMLElement{static define(t,e){const n=this,r=n.prototype,i=r[c],s=!!i,a=n.booleanAttributes||[];a.forEach(t=>{t in r||f(r,k(t),{configurable:!0,get(){return this.hasAttribute(t)},set(e){e&&"false"!==e?this.setAttribute(t,e):this.removeAttribute(t)}})});const o=n.observedAttributes||[];o.forEach(t=>{t in r||f(r,k(t),{configurable:!0,get(){return this.getAttribute(t)},set(e){null==e?this.removeAttribute(t):this.setAttribute(t,e)}})});const u=a.concat(o);u.length&&f(n,"observedAttributes",{get:()=>u});const l=r.created||function(){this.render()};f(r,"_init$",{configurable:!0,writable:!0,value:!0}),f(r,c,{configurable:!0,value:function t(e,n,r){if(this._init$&&(A.call(this,l),this._init$))return this._init$$.push(t.bind(this,e,n,r));s&&n!==r&&i.apply(this,arguments)}});const h=r.connectedCallback,b=!!h;if(f(r,"connectedCallback",{configurable:!0,value:function t(){if(this._init$&&(A.call(this,l),this._init$))return this._init$$.push(t.bind(this));b&&h.apply(this,arguments)}}),m(r).forEach(t=>{if(/^handle[A-Z]/.test(t)){const e="_"+t+"$",n=r[t];f(r,t,{configurable:!0,get(){return this[e]||(this[e]=n.bind(this))}})}}),"handleEvent"in r||f(r,"handleEvent",{configurable:!0,value(t){this[(t.currentTarget.dataset||{}).call||"on"+t.type](t)}}),e&&e.extends){const i=document.createElement(e.extends).constructor,s=class extends i{},a=v(n);g(a).filter(t=>["length","name","arguments","caller","prototype"].indexOf(t)<0).forEach(t=>f(s,t,p(a,t))),g(a.prototype).forEach(t=>f(s.prototype,t,p(a.prototype,t))),y(n,s),y(r,s.prototype),customElements.define(t,n,e)}else customElements.define(t,n);return d.push(n),n}get html(){return this._html$||(this.html=s(this.shadowRoot||this._shadowRoot||this))}set html(t){f(this,"_html$",{configurable:!0,value:t})}render(){}get defaultState(){return{}}get state(){return this._state$||(this.state=this.defaultState)}set state(t){f(this,"_state$",{configurable:!0,value:t})}setState(t,e){const n=this.state,r="function"==typeof t?t.call(this,n):t;for(const t in r)n[t]=r[t];return!1!==e&&this.render(),this}}x.Component=i,x.bind=s,x.intent=a,x.wire=l,x.hyper=u;try{Symbol.hasInstance&&d.push(f(x,Symbol.hasInstance,{enumerable:!1,configurable:!0,value:t=>d.some(T,v(t))}))}catch(t){}var w=x;const _={type:"DOMContentLoaded",handleEvent(){_.ready()?(document.removeEventListener(_.type,_,!1),_.list.splice(0).forEach($)):setTimeout(_.handleEvent)},ready:()=>"complete"===document.readyState,list:[]};function A(t){if(_.ready()||function(t){let e=this;do{if(e.nextSibling)return!0}while(e=e.parentNode);return setTimeout(A.bind(this,t)),!1}.call(this,t)){if(this._init$){const e=this._init$$;e&&delete this._init$$,t.call(f(this,"_init$",{value:!1})),e&&e.forEach($)}}else this.hasOwnProperty("_init$$")||f(this,"_init$$",{configurable:!0,value:[]}),_.list.push(A.bind(this,t))}function $(t){t()}function T(t){return this===t.prototype}_.ready()||document.addEventListener(_.type,_,!1);var N=n(0),E=t=>(class extends t{constructor(){super();const t=Object.getOwnPropertyNames(this.constructor.prototype).filter(t=>"function"==typeof this[t]).filter(t=>t.match(/^(on|render).+/g));t.length>0&&this.bindAll(...t)}bindAll(...t){for(let e,n=0;e=t[n];n++)this[e]=this[e].bind(this)}}),C=n(1),O=n.n(C);var j=Object(N.decorate)(class{constructor(t){this.artist=t.artist,this.title=t.title,this.tracks=t.tracks}isFirstTrack(t){return 0===t}isLastTrack(t){return t>=this.tracks.length-1}trackUrlAtIndex(t){return this.tracks.length>=t?this.tracks[t].url:null}},{artist:N.observable,title:N.observable,tracks:N.observable});var P=Object(N.decorate)(class{constructor(t=[]){this.albums=t.map(t=>new j(t))}add(t){-1===this.findAlbumIndex(t)&&this.albums.push(new j(t))}remove(t){const e=this.findAlbumIndex(t);return this.albums.splice(e,1),e}findAlbumIndex(t){return this.albums.findIndex(e=>e.title===t.title)}isFirstAlbum(t){return 0===t}isLastAlbum(t){return t===this.albums.length-1}},{albums:N.observable});var S=Object(N.decorate)(class extends P{get currentAlbum(){return this.albums.length?this.albums[this.currentAlbumIndex]:null}get currentTrackUrl(){return this.currentAlbum?this.currentAlbum.trackUrlAtIndex(this.currentTrackIndex):null}get isFirstTrack(){return this.currentAlbum.isFirstTrack(this.currentTrackIndex)}get isLastTrack(){return this.currentAlbum.isLastTrack(this.currentTrackIndex)}constructor(){super(),this.audio=new Audio,this.reset()}remove(t){super.remove(t),this.reset()}reset(){this.status="pause",this.currentAlbumIndex=0,this.currentTrackIndex=0,this.updateAudio()}updateAudio(){this.currentTrackUrl?(this.audio.src=this.currentTrackUrl,this.audio[this.status]()):this.audio.pause()}toggle(){this.albums.length&&(this.status="play"===this.status?"pause":"play",this.updateAudio())}changeTrack({title:t},e){this.currentAlbumIndex=this.albums.findIndex(e=>e.title===t),this.currentTrackIndex=e,this.updateAudio()}nextTrack(){if(this.albums.length){if(this.isLastTrack){const t=this.isLastAlbum(this.currentAlbumIndex);this.currentAlbumIndex=t?0:this.currentAlbumIndex+1,this.currentTrackIndex=0}else this.currentTrackIndex+=1;this.updateAudio()}}prevTrack(){if(this.albums.length){if(this.isFirstTrack){const t=this.isFirstAlbum(this.currentAlbumIndex);this.currentAlbumIndex=t?this.albums.length-1:this.currentAlbumIndex-1,this.currentTrackIndex=this.currentAlbum.tracks.length-1}else this.currentTrackIndex-=1;this.updateAudio()}}},{currentAlbumIndex:N.observable,currentTrackIndex:N.observable,playlist:N.observable,status:N.observable});const I=new P([{title:"Bound - Zen Bound Ingame Music",artist:"Ghost Monkey",tracks:[{title:"Care",url:"assets/music/blue.mp3"},{title:"Rope and Wood",url:"assets/music/jazz.mp3"},{title:"Problem Solvent",url:"assets/music/minimalish.mp3"},{title:"Unpaint My Skin",url:"assets/music/slower.mp3"},{title:"Nostalgia",url:"assets/music/blue.mp3"},{title:"Interludum",url:"assets/music/jazz.mp3"},{title:"Grind",url:"assets/music/minimalish.mp3"},{title:"Diagrams",url:"assets/music/slower.mp3"},{title:"Hare",url:"assets/music/blue.mp3"},{title:"Carefree",url:"assets/music/jazz.mp3"},{title:"Tunnel At The End Of Light",url:"assets/music/minimalish.mp3"}]},{title:"Where the Earth Meets the Sky",artist:"Tom Heasley",tracks:[{title:"Ground Zero",url:"assets/music/blue.mp3"},{title:"Western Sky",url:"assets/music/jazz.mp3"},{title:"Monterey Bay",url:"assets/music/minimalish.mp3"},{title:"Where the Earth Meets the Sky",url:"assets/music/slower.mp3"}]}]),M=new S;var L=n(3),R=n.n(L);function V(t,e,n){const{attr:r,computed:i,type:s}=n;function a(){return(this.__values||{})[e]}Object.defineProperty(t,e,i?{get:a}:{get:a,set:function(t){let n=null===t||void 0===t?t:s===Array?t:s(t);this._setPropertyValue(e,n),r&&this._setAttributeValue(r,n,s),this.invalidate()}})}var z=t=>(class extends t{static get properties(){return{}}static get observedAttributes(){return Object.keys(this.properties).map(t=>this.properties[t].attr).filter(t=>t)}constructor(){super(),this.__deps={},this.__values={},this.__attrMap={},this.__listeners={},this.__lookupCache={};for(const t in this.constructor.properties){const e=this.constructor.properties[t],{value:n,attr:r,computed:i}=e,s=/(\w+)\((.+)\)/.exec(i);if(V(this,t,e),"string"==typeof r&&r.trim()&&(this.__attrMap[r]=t),r||void 0===n||this._setPropertyValue(t,n),s){const e=s[1],n=s[2].split(/,\s*/),r=()=>{const r=n.map(t=>this[t]);if(this[e]&&r.every(t=>void 0!==t)){const n=this[e](...r);this._setPropertyValue(t,n)}};for(const t of n)this.__deps[t]?this.__deps[t].push(r):this.__deps[t]=[r];r()}}}connectedCallback(){super.connectedCallback&&super.connectedCallback();for(const t of this.constructor.observedAttributes)this._setPropertyValueFromAttributeValue(t,this.getAttribute(t))}attributeChangedCallback(t,e,n){super.attributeChangedCallback&&super.attributeChangedCallback(t,e,n),this._setPropertyValueFromAttributeValue(t,n),this.invalidate()}async invalidate(){this.__needsRender||(this.__needsRender=!0,this.__needsRender=await!1,this.render())}_setPropertyValue(t,e){this.__values[t]=e,this.__deps[t]&&this.__deps[t].forEach(t=>t())}_setPropertyValueFromAttributeValue(t,e){const n=this.__attrMap[t],{type:r}=this.constructor.properties[n]||{};if(r){const i="Boolean"===r.name?""===e||!!e&&e===t.toLowerCase():null!==e?r(e):void 0;this._setPropertyValue(n,i)}}_setAttributeValue(t,e,n){"Boolean"===n.name?e?this.setAttribute(t,""):this.removeAttribute(t):this.setAttribute(t,e)}}),D=n(2),F=n.n(D);const{wire:B}=w;(class extends(z(E(w))){static get properties(){return{album:{type:Object,value:{}},isPlaylist:{type:Boolean,attr:"showtracks"}}}get collection(){return this.isPlaylist?M:I}created(){Object(N.autorun)(()=>this.render())}onClick(){M[this.isPlaylist?"remove":"add"](this.album)}renderTrack(t,e){const n=this.active&&M.currentTrackIndex===e;return B()`
      <li
        class=${R()(F.a.track,{"is-active":n})}
        onclick=${()=>M.changeTrack(this.album,e)}
      >
        ${t.title}
      </li>
    `}renderTracks(){return this.isPlaylist?(this.active=M.currentAlbumIndex===M.findAlbumIndex(this.album),this.classList[this.active?"add":"remove"]("is-active"),B()`
      <ol class=${F.a.tracks}>
        ${this.album.tracks.map(this.renderTrack)}
      </ol>
    `):B()`${[]}`}render(){const{artist:t,title:e}=this.album,n=this.isPlaylist?"remove":"add";return this.html`
      <li>
        <button
          class=${`${F.a.queue} ${F.a[n]}`}
          onclick=${this.onClick}
        >
          <img src=${`assets/images/${n}.png`} />
        </button>
        <span class=${F.a.title}>${e}</span>
        <span class=${F.a.artist}>${t}</span>
        ${this.renderTracks()}
      </li>
    `}}).define("tunes-album");const{wire:H}=w;(class extends(E(w)){created(){Object(N.autorun)(()=>this.render())}onToggleClick(){M.toggle()}onNextClick(){M.nextTrack()}onPrevClick(){M.prevTrack()}renderAlbum(t){return H(t,":playlist-album")`
      <tunes-album showtracks album=${t} />
    `}render(){return this.html`
      <h1>Playlist</h1>
      <nav>
        <button
          class=${`${O.a.control} ${O.a[M.status]}`}
          onclick=${this.onToggleClick}
        />
        <button
          class=${`${O.a.control} ${O.a.prev}`}
          onclick=${this.onPrevClick}
        />
        <button
          class=${`${O.a.control} ${O.a.next}`}
          onclick=${this.onNextClick}
        />
      </nav>
      <ul class=${O.a.albums}>
        ${M.albums.map(this.renderAlbum)}
      </ul>
    `}}).define("tunes-playlist");var W=n(4),U=n.n(W);const{wire:Z}=w;(class extends(E(w)){renderAlbum(t){return Z(t,":library-album")`
      <tunes-album album=${t} />
    `}render(){return this.html`
      <h1>Music Library</h1>
      <ul class=${U.a.albums}>
        ${I.albums.map(this.renderAlbum)}
      </ul>
    `}}).define("tunes-library");n(5);(class extends w{render(){return this.html`
      <tunes-playlist />
      <tunes-library />
    `}}).define("tunes-app"),document.querySelector("#__wrapper__").innerHTML="<tunes-app></tunes-app>"}]);